
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Tips &amp; Tricks &#8212; perfect-freehand-python 1.2.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Development &amp; Contributions" href="contrib.html" />
    <link rel="prev" title="API Reference" href="api.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="tips-tricks">
<h1>Tips &amp; Tricks<a class="headerlink" href="#tips-tricks" title="Permalink to this heading">¶</a></h1>
<section id="freehand-anything">
<h2>Freehand Anything<a class="headerlink" href="#freehand-anything" title="Permalink to this heading">¶</a></h2>
<p>While this library was designed for rendering the types of input points
generated by the movement of the human hand, you can pass any set of points
into the library’s functions. For example, here’s what you get when running
<a class="reference external" href="https://feathericons.com/">Feather Icons</a> through
<a class="reference internal" href="api.html#perfect_freehand.get_stroke" title="perfect_freehand.get_stroke"><code class="xref py py-func docutils literal notranslate"><span class="pre">perfect_freehand.get_stroke()</span></code></a>.</p>
<img alt="_images/icons.png" src="_images/icons.png" />
</section>
<section id="rendering">
<h2>Rendering<a class="headerlink" href="#rendering" title="Permalink to this heading">¶</a></h2>
<p>While <a class="reference internal" href="api.html#perfect_freehand.get_stroke" title="perfect_freehand.get_stroke"><code class="xref py py-func docutils literal notranslate"><span class="pre">perfect_freehand.get_stroke()</span></code></a> returns an array of points
representing the outline of a stroke, it’s up to you to decide how you will
render these points.</p>
<p>The function below will turn the points returned by <code class="docutils literal notranslate"><span class="pre">get_stroke()</span></code> into SVG
path data:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">itertools</span> <span class="kn">import</span> <span class="n">chain</span><span class="p">,</span> <span class="n">pairwise</span>

<span class="k">def</span> <span class="nf">svg_path_from_stroke</span><span class="p">(</span><span class="n">stroke</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">stroke</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;&quot;</span>

    <span class="n">d</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">stroke</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">stroke</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;Q&#39;</span><span class="p">]</span>
    <span class="k">for</span> <span class="p">((</span><span class="n">x0</span><span class="p">,</span> <span class="n">y0</span><span class="p">),</span> <span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">))</span> <span class="ow">in</span> <span class="n">pairwise</span><span class="p">(</span><span class="n">chain</span><span class="p">(</span><span class="n">stroke</span><span class="p">,</span> <span class="p">[</span><span class="n">stroke</span><span class="p">[</span><span class="mi">0</span><span class="p">]])):</span>
        <span class="n">d</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
            <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="p">(</span><span class="n">x0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">x1</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
            <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="p">(</span><span class="n">y0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">y1</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
            <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">x1</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
            <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">y1</span><span class="si">}</span><span class="s1">&#39;</span>
        <span class="p">])</span>

    <span class="n">d</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;Z&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
</pre></div>
</div>
<p>To use this function, first run your input points through <code class="docutils literal notranslate"><span class="pre">get_stroke()</span></code>,
then pass the result to <code class="docutils literal notranslate"><span class="pre">svg_path_from_stroke</span></code>. The path must be rendered in
the SVG using <code class="docutils literal notranslate"><span class="pre">fill-rule=&quot;nonzero&quot;</span></code>.</p>
</section>
<section id="flattening">
<h2>Flattening<a class="headerlink" href="#flattening" title="Permalink to this heading">¶</a></h2>
<p>By default, the polygon’s paths include self-crossings. You may wish to remove
these crossings and render a stroke as a “flattened” polygon. One example of
how this can be done is using the
<a class="reference external" href="https://shapely.readthedocs.io/en/stable/manual.html#object.buffer">object.buffer()</a>
method provided by <a class="reference external" href="https://shapely.readthedocs.io/">shapely</a>.</p>
<p>As an example, here’s a method for generating a flattened svg polygon, re-using
the <code class="docutils literal notranslate"><span class="pre">svg_path_from_stroke()</span></code> function seen in the previous example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">shapely.geometry</span> <span class="kn">import</span> <span class="n">Polygon</span>

<span class="k">def</span> <span class="nf">flat_svg_path_from_stroke</span><span class="p">(</span><span class="n">stroke</span><span class="p">):</span>
    <span class="n">polygon</span> <span class="o">=</span> <span class="n">Polygon</span><span class="p">(</span><span class="n">stroke</span><span class="p">)</span>

    <span class="c1"># At this point, polygon.is_valid may be False due to self-</span>
    <span class="c1"># crossings. To fix this, use the &quot;buffer&quot; method with an</span>
    <span class="c1"># offset of 0.</span>
    <span class="n">polygon</span> <span class="o">=</span> <span class="n">polygon</span><span class="o">.</span><span class="n">buffer</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

    <span class="c1"># The polygon will now consist of one exterior ring, and holes</span>
    <span class="c1"># will be represented by interior rings.</span>
    <span class="n">d</span> <span class="o">=</span> <span class="p">[</span><span class="n">svg_path_from_stroke</span><span class="p">(</span><span class="n">polygon</span><span class="o">.</span><span class="n">exterior</span><span class="o">.</span><span class="n">coords</span><span class="p">)]</span>
    <span class="k">for</span> <span class="n">interior</span> <span class="ow">in</span> <span class="n">polygon</span><span class="o">.</span><span class="n">interiors</span><span class="p">:</span>
        <span class="n">d</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">svg_path_from_stroke</span><span class="p">(</span><span class="n">interior</span><span class="o">.</span><span class="n">coords</span><span class="p">))</span>

    <span class="k">return</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
</pre></div>
</div>
<p>Since the SVG path now consists of multiple separate rings, in order for the
holes to be rendered you must used <code class="docutils literal notranslate"><span class="pre">fill-rule=&quot;evenodd&quot;</span></code>.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">perfect-freehand-python</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Reference</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Tips &amp; Tricks</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#freehand-anything">Freehand Anything</a></li>
<li class="toctree-l2"><a class="reference internal" href="#rendering">Rendering</a></li>
<li class="toctree-l2"><a class="reference internal" href="#flattening">Flattening</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contrib.html">Development &amp; Contributions</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="api.html" title="previous chapter">API Reference</a></li>
      <li>Next: <a href="contrib.html" title="next chapter">Development &amp; Contributions</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2022, Calvin Walton, Steve Ruiz Ltd.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 6.2.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="_sources/tips.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>